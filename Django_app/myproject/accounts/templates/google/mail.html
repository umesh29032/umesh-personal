{% extends 'accounts/base.html' %}
   {% load socialaccount %}

   {% block title %}Login with Google | Company Portal{% endblock %}

   {% block content %}
   <div class="login-container">
       <div class="login-card">
           <div class="login-header">
               <div class="company-logo">
                   <i class="fas fa-rocket"></i>
                   <span>Company Portal</span>
               </div>
               <h1>Sign in with Google</h1>
               <p>Securely access your account using your Google credentials.</p>
           </div>

           {% if messages %}
           <div class="messages-container">
               {% for message in messages %}
               <div class="alert alert-{{ message.tags }}">
                   <i class="fas {% if message.tags == 'error' %}fa-exclamation-circle{% else %}fa-check-circle{% endif %}"></i>
                   {{ message }}
               </div>
               {% endfor %}
           </div>
           {% endif %}

           {% if form %}
               <form method="post" action="{% url 'socialaccount_signup' %}">
                   {% csrf_token %}
                   {{ form.as_p }}
                   <button type="submit" class="social-button google">Continue with Google</button>
               </form>
           {% else %}
               <div class="social-login">
                   <a href="{% provider_login_url 'google' process='login' %}{{ request.GET.next|urlencode|default:''|add:'&next=' }}" class="social-button google">
                       <i class="fab fa-google"></i>
                       <span>Sign in with Google</span>
                   </a>
               </div>
           {% endif %}

           <div class="alternative-login">
               <p>Prefer another method? <a href="{% url 'login' %}">Sign in with Email</a></p>
           </div>
       </div>

       <div class="login-footer">
           <p>Â© 2025 Company Name. All rights reserved.</p>
           <div class="footer-links">
               <a href="#">Privacy Policy</a>
               <a href="#">Terms of Service</a>
               <a href="#">Help Center</a>
           </div>
       </div>
   </div>

   <style>
       :root {
           --primary-color: #3498db;
           --primary-dark: #2980b9;
           --text-color: #2c3e50;
           --text-secondary: #7f8c8d;
           --border-color: #dcdcdc;
           --error-color: #e74c3c;
           --success-color: #2ecc71;
           --background-color: #f8f9fa;
           --white: #ffffff;
           --google-blue: #4285f4;
           --shadow-light: 0 4px 12px rgba(0, 0, 0, 0.1);
           --shadow-dark: 0 8px 24px rgba(0, 0, 0, 0.2);
           --transition: all 0.3s ease;
       }

       .login-container {
           display: flex;
           flex-direction: column;
           align-items: center;
           justify-content: center;
           min-height: calc(100vh - 70px);
           padding: 40px 20px;
           background: linear-gradient(135deg, #e0e7ff 0%, #f8f9fa 100%);
       }

       .login-card {
           width: 100%;
           max-width: 500px;
           background: var(--white);
           border-radius: 15px;
           box-shadow: var(--shadow-light);
           padding: 40px;
           margin-bottom: 20px;
           transition: transform 0.3s ease, box-shadow 0.3s ease;
       }

       .login-card:hover {
           transform: translateY(-8px);
           box-shadow: var(--shadow-dark);
       }

       .login-header {
           text-align: center;
           margin-bottom: 30px;
       }

       .company-logo {
           display: flex;
           align-items: center;
           justify-content: center;
           margin-bottom: 20px;
           color: var(--primary-color);
           font-size: 28px;
           font-weight: 600;
           animation: fadeIn 1s ease-in-out;
       }

       .company-logo i {
           font-size: 32px;
           margin-right: 12px;
           animation: rotateIn 1s ease-in-out;
       }

       .login-header h1 {
           font-size: 30px;
           font-weight: 500;
           margin-bottom: 10px;
           color: var(--text-color);
           animation: slideIn 0.8s ease-out;
       }

       .login-header p {
           color: var(--text-secondary);
           font-size: 16px;
           line-height: 1.6;
           animation: fadeIn 1.2s ease-in-out;
       }

       .messages-container {
           margin-bottom: 20px;
       }

       .alert {
           padding: 12px 16px;
           border-radius: 8px;
           display: flex;
           align-items: center;
           font-size: 14px;
           margin-bottom: 10px;
           animation: slideIn 0.5s ease-out;
       }

       .alert-error {
           background-color: rgba(231, 76, 60, 0.1);
           color: var(--error-color);
           border: 1px solid var(--error-color);
       }

       .alert-success {
           background-color: rgba(46, 204, 113, 0.1);
           color: var(--success-color);
           border: 1px solid var(--success-color);
       }

       .alert i {
           margin-right: 10px;
       }

       .social-login {
           display: flex;
           justify-content: center;
           margin-bottom: 25px;
       }

       .social-button {
           display: flex;
           align-items: center;
           padding: 15px 30px;
           border-radius: 50px;
           font-size: 17px;
           font-weight: 500;
           text-decoration: none;
           transition: var(--transition);
           box-shadow: var(--shadow-light);
           border: none;
           cursor: pointer;
           width: 100%;
           max-width: 320px;
           background: linear-gradient(90deg, #4285f4, #34a853);
           color: var(--white);
           position: relative;
           overflow: hidden;
           animation: bounceIn 1s ease-in-out;
       }

       .social-button:hover {
           background: linear-gradient(90deg, #357ae8, #2e8b57);
           transform: translateY(-5px);
           box-shadow: var(--shadow-dark);
       }

       .social-button:active {
           transform: translateY(0);
           box-shadow: var(--shadow-light);
       }

       .social-button::before {
           content: '';
           position: absolute;
           top: 50%;
           left: 50%;
           width: 0;
           height: 0;
           background: rgba(255, 255, 255, 0.3);
           border-radius: 50%;
           transform: translate(-50%, -50%);
           transition: width 0.6s ease, height 0.6s ease;
           z-index: 0;
       }

       .social-button:hover::before {
           width: 300px;
           height: 300px;
       }

       .social-button i {
           margin-right: 12px;
           font-size: 22px;
       }

       .alternative-login {
           text-align: center;
           font-size: 14px;
           color: var(--text-secondary);
           animation: fadeIn 1.5s ease-in-out;
       }

       .alternative-login a {
           color: var(--primary-color);
           text-decoration: none;
           font-weight: 500;
           transition: var(--transition);
       }

       .alternative-login a:hover {
           color: var(--primary-dark);
           text-decoration: underline;
       }

       .login-footer {
           text-align: center;
           font-size: 12px;
           color: var(--text-secondary);
           animation: fadeIn 2s ease-in-out;
       }

       .footer-links {
           margin-top: 10px;
       }

       .footer-links a {
           color: var(--text-secondary);
           text-decoration: none;
           margin: 0 10px;
           transition: var(--transition);
       }

       .footer-links a:hover {
           color: var(--primary-color);
           text-decoration: underline;
       }

       @media (max-width: 480px) {
           .login-card {
               padding: 30px;
           }

           .login-header h1 {
               font-size: 24px;
           }

           .social-button {
               padding: 12px 24px;
               font-size: 15px;
               max-width: 280px;
           }
       }

       /* Animations */
       @keyframes fadeIn {
           from { opacity: 0; }
           to { opacity: 1; }
       }

       @keyframes slideIn {
           from { opacity: 0; transform: translateY(20px); }
           to { opacity: 1; transform: translateY(0); }
       }

       @keyframes rotateIn {
           from { transform: rotate(0deg); }
           to { transform: rotate(360deg); }
       }

       @keyframes bounceIn {
           0% { transform: scale(0.8); opacity: 0; }
           60% { transform: scale(1.1); opacity: 1; }
           100% { transform: scale(1); }
       }
   </style>
   {% endblock %}