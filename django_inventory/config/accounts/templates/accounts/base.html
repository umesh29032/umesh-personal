{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Garment Inventory Management System">
    <title>{% block title %}Inventory Management{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'accounts/css/auth.css' %}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>

<div class="app-layout">

    <!-- MOBILE OVERLAY -->
    <div class="sidebar-overlay" onclick="toggleSidebar()"></div>

    <!-- SIDEBAR -->
    <aside class="app-sidebar" id="appSidebar">
        <div class="sidebar-header">
            <h2>Kapil Enterprises</h2>
            <button class="close-sidebar-btn" onclick="toggleSidebar()">Ã—</button>
        </div>

        <nav class="sidebar-nav">
            <a href="{% url 'accounts:home' %}"
               class="{% if request.path == '/home/' %}active{% endif %}">
                <span>ğŸ“Š</span> Dashboard
            </a>

            <!-- Inventory Link -->
             <a href="{% url 'inventory:product_list' %}"
               class="{% if 'products' in request.path %}active{% endif %}">
                <span>ğŸ“¦</span> Inventory
            </a>
            
            <!-- Batches Link (Processed) -->
            <a href="{% url 'inventory:batch_list' %}"
               class="{% if 'batches' in request.path %}active{% endif %}">
                <span>ğŸ“‘</span> Production Batches
            </a>

            <!-- Cloth Stock Link -->
             <a href="{% url 'inventory:cloth_roll_list' %}"
               class="{% if 'cloth' in request.path %}active{% endif %}">
                <span>ğŸ§µ</span> Cloth Stock
            </a>

            <!-- Users Link (Superuser Only) -->
            {% if request.user.is_superuser %}
            <a href="{% url 'accounts:user_list' %}"
               class="{% if 'users' in request.path %}active{% endif %}">
                <span>ğŸ‘¥</span> Users
            </a>
            <a href="{% url 'accounts:skill_list' %}"
               class="{% if 'skills' in request.path %}active{% endif %}">
                <span>ğŸ› ï¸</span> User Skills
            </a>
            {% endif %}
            
            <a href="#"><span>âš™ï¸</span> Settings</a>
        </nav>

        <div class="sidebar-footer">
            <a href="{% url 'accounts:logout' %}" style="color: #ef4444;">
                <span>ğŸšª</span> Logout
            </a>
        </div>
    </aside>

    <!-- MAIN CONTENT AREA -->
    <div class="app-main">

        <!-- TOP BAR -->
        <header class="app-topbar">
            <div class="topbar-left">
                <button class="hamburger-btn" onclick="toggleSidebar()">
                    â˜°
                </button>
                <strong>{% block page_title %}Dashboard{% endblock %}</strong>
            </div>
            <div class="user-profile">
                <span>ğŸ‘¤ {{ request.user.email }}</span>
            </div>
        </header>

        <!-- PAGE CONTENT -->
        <main class="app-content">
            <!-- Messages -->
            {% if messages %}
                <div class="messages">
                    {% for message in messages %}
                        <div class="alert alert-{{ message.tags }}">
                            {{ message }}
                        </div>
                    {% endfor %}
                </div>
            {% endif %}

            {% block content %}{% endblock %}
        </main>

    </div>
</div>

<script>
    function toggleSidebar() {
        document.body.classList.toggle('sidebar-open');
    }
</script>

</body>
</html>

